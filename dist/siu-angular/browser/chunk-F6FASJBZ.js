import{a as ue}from"./chunk-HG7LLFOD.js";import{a as he}from"./chunk-IABRCUVS.js";import"./chunk-7UZYWCAJ.js";import{c as Q,d as V,g as v,i as T}from"./chunk-OCAOS45R.js";import{b as ee,c as te}from"./chunk-E7OICD5F.js";import{a as K}from"./chunk-OFBHONAA.js";import{b as W,e as $,f as Y,i as X}from"./chunk-YPBVTN56.js";import{a as le,b as ce}from"./chunk-3WYC6ROS.js";import{a as de}from"./chunk-TAVIRTLO.js";import{a as me}from"./chunk-RSTPHI64.js";import{a as pe}from"./chunk-4PMYLZD4.js";import"./chunk-XMY2MG46.js";import"./chunk-QDNYLZKO.js";import{t as H,u as U}from"./chunk-4TEKNYBZ.js";import{a as re,b as se}from"./chunk-UUJ2B6HP.js";import{$ as oe,W as ie,Z as ne,_ as ae}from"./chunk-AQZ5PN4T.js";import{c as Z,g as J}from"./chunk-JWWLDGKM.js";import{p as j,q}from"./chunk-3AYM6UTQ.js";import{Cb as L,Db as S,Fa as D,Ib as _,Jb as n,Kb as o,Lb as x,Sb as E,Wb as b,Xa as u,Yb as I,ac as F,ba as M,bc as R,cc as N,eb as z,ga as f,ha as h,ic as P,kc as s,lb as B,lc as k,mc as G,sa as y}from"./chunk-E7AQ6X4Y.js";import{a as w,b as O,e as fe,f as A}from"./chunk-EQDQRRRY.js";var g=fe(he());var be=["mapContainer"];function Ce(C,e){if(C&1){let i=E();n(0,"button",28),b("click",function(){f(i);let a=I();return h(a.onSearchChange(""))}),n(1,"mat-icon"),s(2,"clear"),o()()}}function Me(C,e){C&1&&(n(0,"div",8)(1,"div",29),x(2,"mat-spinner",30),n(3,"div",31)(4,"span",32),s(5,"Chargement de la carte..."),o()()()()),C&2&&_("@fadeInAnimation",void 0)}var ge=class C{constructor(){this.isLoading=y(!1);this.isFullscreen=y(!1);this.searchQuery=y("");this.totalParcels=y(0);this.isConnected=y(!0);this.subscriptions=[];this.router=M(Z);this.mapService=M(ue);this.notificationService=M(pe);this.platformId=M(D);this.renderer=M(z);this.clusteringEnabled=!0;this.baseLayers={};this.currentBaseLayer="default"}ngOnInit(){this.loadInitialData()}ngAfterViewInit(){this.initializeMap()}ngOnDestroy(){this.cleanup()}initializeMap(){return A(this,null,function*(){if(!(!q(this.platformId)||!this.mapContainer))try{let e=yield import("./chunk-PXQKGGUN.js"),i=yield import("./chunk-GOSO7CR6.js");window.L=e.default||e,this.map=g.map(this.mapContainer.nativeElement).setView([12.3714,-1.5197],13),g.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),this.initializeBaseLayers(),this.initializeLayers(),this.loadParcelsData()}catch(e){console.error("Erreur lors de l'initialisation de la carte:",e),this.notificationService.show("Erreur lors du chargement de la carte","error")}})}initializeLayers(){this.clusteringEnabled&&window.L.markerClusterGroup?(this.clusterGroup=window.L.markerClusterGroup({chunkedLoading:!0,maxClusterRadius:100,disableClusteringAtZoom:18}),this.map?.addLayer(this.clusterGroup)):(this.featureGroup=window.L.featureGroup(),this.map?.addLayer(this.featureGroup))}loadParcelsData(e){this.isLoading.set(!0);let i=this.mapService.getParcelsGeoJson({bbox:e}).subscribe({next:t=>{this.geojsonData=t,this.filteredGeojsonData=t,this.totalParcels.set(t.features.length),this.isConnected.set(!0),this.displayParcelsOnMap(),this.isLoading.set(!1)},error:t=>{console.error("Erreur lors du chargement des donn\xE9es:",t),this.notificationService.show("Erreur lors du chargement des parcelles","error"),this.isLoading.set(!1),this.isConnected.set(!1)}});this.subscriptions.push(i)}searchParcels(e){if(!e||!this.geojsonData){this.filteredGeojsonData=this.geojsonData,this.displayParcelsOnMap();return}let i=e.toLowerCase();this.filteredGeojsonData=O(w({},this.geojsonData),{features:this.geojsonData.features.filter(t=>{let a=t.properties;return a.reference_cadastrale&&a.reference_cadastrale.toLowerCase().includes(i)||a.address&&a.address.toLowerCase().includes(i)||a.owner_name&&a.owner_name.toLowerCase().includes(i)})}),this.displayParcelsOnMap()}onSearchChange(e){this.searchQuery.set(e),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchParcels(e)},300)}displayParcelsOnMap(){let e=this.filteredGeojsonData||this.geojsonData;if(!e?.features||!this.map)return;this.clearExistingLayers();let i=[];for(let t of e.features){let a=this.createParcelLayer(t);a&&i.push(a)}this.clusteringEnabled&&this.clusterGroup?i.forEach(t=>this.clusterGroup.addLayer(t)):this.featureGroup&&i.forEach(t=>this.featureGroup.addLayer(t)),this.fitBoundsToVisibleParcels()}fitBoundsToVisibleParcels(){if(!this.map)return;let e;if(this.clusteringEnabled&&this.clusterGroup?e=this.clusterGroup:this.featureGroup&&(e=this.featureGroup),e){let i=e.getBounds();if(i&&i.isValid()){let t=i.getSouthWest(),a=i.getNorthEast(),m=Math.abs(a.lat-t.lat),c=Math.abs(a.lng-t.lng);if(m>50||c>50){console.warn("Zone trop \xE9tendue, centrage sur la premi\xE8re parcelle");let r=e.getLayers();if(r.length>0){let l=r[0];if(l&&l.getLatLng)this.map.setView(l.getLatLng(),13);else if(l&&l.getBounds){let d=l.getBounds();d&&d.isValid&&this.map.fitBounds(d,{maxZoom:16})}}}else try{this.map.fitBounds(i,{padding:[50,50],maxZoom:16})}catch(r){console.error("Erreur lors de l'ajustement des limites:",r);let l=e.getLayers();if(l.length>0){let d=l[0];if(d&&d.getLatLng)this.map.setView(d.getLatLng(),13);else if(d&&d.getBounds){let p=d.getBounds();p&&p.isValid&&this.map.fitBounds(p,{maxZoom:16})}}}}else this.map.setView([12.3714,-1.5197],13)}}createParcelLayer(e){if(!e.geometry||!e.properties)return console.warn("Feature invalide: g\xE9om\xE9trie ou propri\xE9t\xE9s manquantes",e),null;if(e.geometry.type==="Point"&&(!Array.isArray(e.geometry.coordinates)||e.geometry.coordinates.length<2))return console.warn("Coordonn\xE9es invalides pour un point:",e.geometry.coordinates),null;if(e.geometry.type!=="Point"&&!this.isValidGeometry(e.geometry))return console.warn("G\xE9om\xE9trie invalide:",e.geometry.type,e.geometry),null;let t={fillColor:this.getCategoryColor(e.properties.category),weight:2,opacity:1,color:"white",fillOpacity:.7},a;try{if(e.geometry.type==="Point")a=g.circleMarker([e.geometry.coordinates[1],e.geometry.coordinates[0]],O(w({},t),{radius:8}));else{let c=g.geoJSON(e,{style:()=>t,onEachFeature:(r,l)=>{let d=this.createPopupContent(r.properties);l.bindPopup(d),l.on("click",()=>{if(r.properties&&r.properties.id){let p=r.properties.id;p&&p!=="NaN"&&p!=="undefined"&&p!==null&&!isNaN(Number(p))?this.router.navigateByUrl(`/parcels/${p}`):console.warn("ID de parcelle invalide pour la navigation:",p,r.properties)}else console.warn("ID de parcelle manquant pour la navigation:",r.properties)})}}).getLayers();if(c.length===0)return console.warn("Aucune couche cr\xE9\xE9e \xE0 partir de la feature GeoJSON:",e),null;a=c[0]}return a}catch(m){return console.error("Erreur lors de la cr\xE9ation de la couche:",m,e),null}}isValidGeometry(e){if(!e.type||!e.coordinates)return!1;switch(e.type){case"Polygon":return Array.isArray(e.coordinates)&&e.coordinates.length>0;case"LineString":return Array.isArray(e.coordinates)&&e.coordinates.length>=2;case"MultiPolygon":return Array.isArray(e.coordinates)&&e.coordinates.length>0;default:return!0}}createPopupContent(e){return`
      <div class="parcel-popup">
        <h3>${e.reference_cadastrale}</h3>
        <p><strong>Adresse:</strong> ${e.address||"Non sp\xE9cifi\xE9e"}</p>
        <p><strong>Superficie:</strong> ${e.area?e.area+" m\xB2":"Non sp\xE9cifi\xE9e"}</p>
        <p><strong>Cat\xE9gorie:</strong> ${this.getCategoryLabel(e.category)}</p>
        <p><strong>Statut:</strong> <span style="color:${this.getStatusColor(e.status)}">${this.getStatusLabel(e.status)}</span></p>
      </div>
    `}getCategoryColor(e){return{residential:"#3887be",commercial:"#bc3de3",industrial:"#ff8100",agricultural:"#8fa900","mixed-use":"#99008a","public-space":"#007d79",Habitation:"#3887be",CTOM:"#bc3de3",Gendarmerie:"#ff8100",Police:"#007d79",CSPS:"#8fa900",CMA:"#99008a",CEEP:"#bc3de3","Ecole primaire":"#ff8100","Ecole secondaire":"#808080","Enseignement secondaire":"#808080","Complexe scolaire":"#808080","Jardin d'enfants":"#808080",Sante:"#ff0000",Forage:"#0000ff",Fontaine:"#0000ff","Chateau d'eau":"#0000ff",Mosquee:"#00aa00","Eglise catholique":"#800000",Culte:"#800000",Cimetiere:"#a9a9a9","Cimetiere catholique":"#a9a9a9","Lieu sacre":"#800080","Place publique":"#007d79","Jardin public":"#8fa900","Terrain de sport":"#006400","Plateau omnisports":"#006400","Aire de jeux":"#daa520","Aire de stationnement":"#696969","Village traditionnel":"#8b4513","Habitat collectif":"#3887be","Domaine prive":"#800080","Servitude haute tension":"#ffff00","Centre commercial":"#bc3de3","Grand marche":"#bc3de3",Marche:"#bc3de3","Station service":"#ff8c00","Gare routiere":"#708090","Maison de la femme":"#ff69b4","Maison des jeunes":"#4169e1","Association Woroyire":"#20b2aa","Association lolo":"#20b2aa","Groupement Darsalam":"#20b2aa",ZNA:"#ffa500",DT:"#ffa500",RA:"#ffa500",RF:"#ffa500",EV:"#ffa500",Indefini:"#808080"}[e]||"#808080"}getCategoryLabel(e){return{residential:"R\xE9sidentiel",commercial:"Commercial",industrial:"Industriel",agricultural:"Agricole","mixed-use":"Mixte","public-space":"Espace public",Habitation:"Habitation",CTOM:"CTOM",Gendarmerie:"Gendarmerie",Police:"Police",CSPS:"CSPS",CMA:"CMA",CEEP:"CEEP","Ecole primaire":"\xC9cole primaire","Ecole secondaire":"\xC9cole secondaire","Enseignement secondaire":"Enseignement secondaire","Complexe scolaire":"Complexe scolaire","Jardin d'enfants":"Jardin d'enfants",Sante:"Sant\xE9",Forage:"Forage",Fontaine:"Fontaine","Chateau d'eau":"Ch\xE2teau d'eau",Mosquee:"Mosqu\xE9e","Eglise catholique":"\xC9glise catholique",Culte:"Lieu de culte",Cimetiere:"Cimeti\xE8re","Cimetiere catholique":"Cimeti\xE8re catholique","Lieu sacre":"Lieu sacr\xE9","Place publique":"Place publique","Jardin public":"Jardin public","Terrain de sport":"Terrain de sport","Plateau omnisports":"Plateau omnisports","Aire de jeux":"Aire de jeux","Aire de stationnement":"Aire de stationnement","Village traditionnel":"Village traditionnel","Habitat collectif":"Habitat collectif","Domaine prive":"Domaine priv\xE9","Servitude haute tension":"Servitude HT","Centre commercial":"Centre commercial","Grand marche":"Grand march\xE9",Marche:"March\xE9","Station service":"Station service","Gare routiere":"Gare routi\xE8re","Maison de la femme":"Maison de la femme","Maison des jeunes":"Maison des jeunes","Association Woroyire":"Association Woroyire","Association lolo":"Association lolo","Groupement Darsalam":"Groupement Darsalam",ZNA:"ZNA",DT:"DT",RA:"RA",RF:"RF",EV:"EV",Indefini:"Ind\xE9fini"}[e]||e}getStatusColor(e){return{available:"#4caf50",occupied:"#2196f3",disputed:"#f44336",reserved:"#ff9800"}[e]||"#9e9e9e"}getStatusLabel(e){return{available:"Disponible",occupied:"Occup\xE9",disputed:"Contest\xE9",reserved:"R\xE9serv\xE9"}[e]||e}fitAllFeatures(){if(!this.map)return;let e;if(this.clusteringEnabled&&this.clusterGroup?e=this.clusterGroup.getBounds():this.featureGroup&&(e=this.featureGroup.getBounds()),e&&e.isValid()){let i=e.getSouthWest(),t=e.getNorthEast(),a=Math.abs(t.lat-i.lat),m=Math.abs(t.lng-i.lng);if(a>50||m>50){if(console.warn("Zone trop \xE9tendue, centrage sur la premi\xE8re parcelle"),this.getAllLayers().length>0){let c=this.getAllLayers()[0];if(c&&c.getLatLng)this.map.setView(c.getLatLng(),13);else if(c&&c.getBounds){let r=c.getBounds();r&&r.isValid&&this.map.fitBounds(r,{maxZoom:16})}}}else try{this.map.fitBounds(e,{padding:[50,50],maxZoom:16})}catch(c){if(console.error("Error fitting bounds:",c),this.getAllLayers().length>0){let r=this.getAllLayers()[0];if(r&&r.getLatLng)this.map.setView(r.getLatLng(),13);else if(r&&r.getBounds){let l=r.getBounds();l&&l.isValid&&this.map.fitBounds(l,{maxZoom:16})}}}}else if(this.getAllLayers().length>0){let i=this.getAllLayers()[0];if(i&&i.getLatLng)this.map.setView(i.getLatLng(),13);else if(i&&i.getBounds){let t=i.getBounds();t&&t.isValid&&this.map.fitBounds(t,{maxZoom:16})}}}getAllLayers(){return this.clusteringEnabled&&this.clusterGroup?this.clusterGroup.getLayers():this.featureGroup?this.featureGroup.getLayers():[]}toggleClustering(){this.map&&(this.clusterGroup&&this.map.removeLayer(this.clusterGroup),this.featureGroup&&this.map.removeLayer(this.featureGroup),this.clusteringEnabled=!this.clusteringEnabled,this.initializeLayers(),this.displayParcelsOnMap())}cleanup(){this.subscriptions.forEach(e=>e.unsubscribe()),this.map&&this.map.remove(),this.searchTimeout&&clearTimeout(this.searchTimeout)}toggleFullscreen(){let e=document.querySelector(".minimal-map-wrapper");e&&(this.isFullscreen()?document.fullscreenElement?document.exitFullscreen().catch(()=>{this.isFullscreen.set(!1)}):this.isFullscreen.set(!1):e.requestFullscreen?.().catch(()=>{this.isFullscreen.set(!0)}),this.isFullscreen.set(!this.isFullscreen()))}locateUser(){this.map&&(this.map.locate({setView:!0,maxZoom:16}),this.map.on("locationfound",e=>{g.circleMarker(e.latlng,{radius:12,color:"#1976d2"}).addTo(this.map).bindPopup("Votre position").openPopup()}),this.map.on("locationerror",()=>{this.notificationService.show("Impossible de localiser votre position","error")}))}initializeBaseLayers(){this.map&&(this.baseLayers.default=g.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),this.baseLayers.satellite=g.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),this.baseLayers[this.currentBaseLayer].addTo(this.map))}toggleSatelliteView(){this.map&&(this.baseLayers[this.currentBaseLayer].remove(),this.currentBaseLayer==="default"?(this.currentBaseLayer="satellite",this.notificationService.show("Vue satellite activ\xE9e","info")):(this.currentBaseLayer="default",this.notificationService.show("Vue cartographique activ\xE9e","info")),this.baseLayers[this.currentBaseLayer].addTo(this.map))}zoomIn(){this.map&&this.map.zoomIn()}zoomOut(){this.map&&this.map.zoomOut()}clearExistingLayers(){this.clusteringEnabled&&this.clusterGroup?this.clusterGroup.clearLayers():this.featureGroup&&this.featureGroup.clearLayers()}loadInitialData(){}static{this.\u0275fac=function(i){return new(i||C)}}static{this.\u0275cmp=B({type:C,selectors:[["app-minimal-map-view"]],viewQuery:function(i,t){if(i&1&&F(be,7),i&2){let a;R(a=N())&&(t.mapContainer=a.first)}},decls:66,vars:16,consts:[["mapContainer",""],[1,"minimal-map-wrapper"],[1,"minimal-search-bar"],["appearance","outline",1,"search-field"],["matInput","","placeholder","R\xE9f\xE9rence cadastrale, adresse ou propri\xE9taire...",3,"input","value"],["matPrefix",""],["mat-icon-button","","matSuffix","","matTooltip","Effacer la recherche"],[1,"minimal-map-container"],[1,"loading-overlay"],[1,"minimal-floating-controls"],["mat-fab","","color","primary","matTooltipPosition","left",1,"minimal-fullscreen-toggle",3,"click","matTooltip"],["mat-fab","","color","primary","matTooltip","Localiser ma position","matTooltipPosition","left",1,"minimal-location-toggle",3,"click"],["mat-fab","","color","primary","matTooltip","Basculer vue satellite","matTooltipPosition","left",1,"minimal-satellite-toggle",3,"click"],["mat-fab","","color","primary","matTooltip","Activer/D\xE9sactiver le clustering","matTooltipPosition","left",1,"minimal-cluster-toggle",3,"click"],[1,"minimal-zoom-controls"],["mat-mini-fab","","color","primary","matTooltip","Zoom avant","matTooltipPosition","left",1,"minimal-zoom-button",3,"click"],["mat-mini-fab","","color","primary","matTooltip","Zoom arri\xE8re","matTooltipPosition","left",1,"minimal-zoom-button",3,"click"],[1,"minimal-legend"],[1,"legend-title"],[1,"legend-items"],[1,"legend-item"],[1,"legend-color",2,"background-color","#3887be"],[1,"legend-label"],[1,"legend-color",2,"background-color","#bc3de3"],[1,"legend-color",2,"background-color","#ff8100"],[1,"legend-color",2,"background-color","#8fa900"],[1,"minimal-status-indicators"],[1,"status-item"],["mat-icon-button","","matSuffix","","matTooltip","Effacer la recherche",3,"click"],[1,"loading-spinner-wrapper"],["diameter","52","color","primary"],[1,"loading-text"],[1,"loading-message"]],template:function(i,t){if(i&1){let a=E();n(0,"div",1)(1,"div",2)(2,"mat-form-field",3)(3,"mat-label"),s(4,"Rechercher une parcelle"),o(),n(5,"input",4),b("input",function(c){return f(a),h(t.onSearchChange(c.target.value))}),o(),n(6,"mat-icon",5),s(7,"search"),o(),L(8,Ce,3,0,"button",6),o()(),n(9,"div",7,0),L(11,Me,6,1,"div",8),o(),n(12,"div",9)(13,"button",10),b("click",function(){return f(a),h(t.toggleFullscreen())}),n(14,"mat-icon"),s(15),o()(),n(16,"button",11),b("click",function(){return f(a),h(t.locateUser())}),n(17,"mat-icon"),s(18,"my_location"),o()(),n(19,"button",12),b("click",function(){return f(a),h(t.toggleSatelliteView())}),n(20,"mat-icon"),s(21,"satellite_alt"),o()(),n(22,"button",13),b("click",function(){return f(a),h(t.toggleClustering())}),n(23,"mat-icon"),s(24,"layers"),o()(),n(25,"div",14)(26,"button",15),b("click",function(){return f(a),h(t.zoomIn())}),n(27,"mat-icon"),s(28,"add"),o()(),n(29,"button",16),b("click",function(){return f(a),h(t.zoomOut())}),n(30,"mat-icon"),s(31,"remove"),o()()()(),n(32,"div",17)(33,"div",18)(34,"mat-icon"),s(35,"palette"),o(),n(36,"span"),s(37,"L\xE9gende"),o()(),n(38,"div",19)(39,"div",20),x(40,"span",21),n(41,"span",22),s(42,"R\xE9sidentiel"),o()(),n(43,"div",20),x(44,"span",23),n(45,"span",22),s(46,"Commercial"),o()(),n(47,"div",20),x(48,"span",24),n(49,"span",22),s(50,"Industriel"),o()(),n(51,"div",20),x(52,"span",25),n(53,"span",22),s(54,"Agricole"),o()()()(),n(55,"div",26)(56,"div",27)(57,"mat-icon"),s(58),o(),n(59,"span"),s(60),o()(),n(61,"div",27)(62,"mat-icon"),s(63,"layers"),o(),n(64,"span"),s(65),o()()()()}i&2&&(P("fullscreen-mode",t.isFullscreen()),u(5),_("value",t.searchQuery()),u(3),S(t.searchQuery()?8:-1),u(3),S(t.isLoading()?11:-1),u(2),_("matTooltip",t.isFullscreen()?"Quitter plein \xE9cran":"Plein \xE9cran"),u(2),k(t.isFullscreen()?"fullscreen_exit":"fullscreen"),u(41),P("disconnected",!t.isConnected()),u(),P("connected",t.isConnected())("disconnected",!t.isConnected()),u(),G(" ",t.isConnected()?"cloud_done":"cloud_off"," "),u(2),k(t.isConnected()?"Connect\xE9":"D\xE9connect\xE9"),u(5),G("",t.totalParcels()," parcelles"))},dependencies:[J,j,H,U,ce,le,se,re,oe,ae,ie,ne,de,me,K,X,W,$,Y,te,ee],styles:['@charset "UTF-8";.minimal-map-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-template-rows:auto 1fr;height:100vh;width:100%;position:relative;background:#f5f7fa;transition:all .3s ease}.minimal-search-bar[_ngcontent-%COMP%]{grid-row:1;grid-column:1;padding:16px;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(0,0,0,.1);z-index:1001;display:flex;justify-content:center;align-items:center}.minimal-search-bar[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%;max-width:600px}.minimal-search-bar[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.minimal-map-wrapper.fullscreen-mode[_ngcontent-%COMP%]{height:100vh;width:100vw;position:fixed;top:0;left:0;z-index:9999}.minimal-map-wrapper.fullscreen-mode[_ngcontent-%COMP%]   .minimal-search-bar[_ngcontent-%COMP%]{display:none}.minimal-map-container[_ngcontent-%COMP%]{grid-column:1;grid-row:2;width:100%;height:100%;border-radius:0;overflow:hidden;position:relative}.minimal-floating-controls[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;z-index:1000;display:flex;flex-direction:column;gap:12px;align-items:flex-end}.minimal-fullscreen-toggle[_ngcontent-%COMP%], .minimal-location-toggle[_ngcontent-%COMP%], .minimal-satellite-toggle[_ngcontent-%COMP%], .minimal-cluster-toggle[_ngcontent-%COMP%]{margin-bottom:8px;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);box-shadow:0 4px 12px #00000026;transition:all .3s ease;color:#1a237e}.minimal-fullscreen-toggle[_ngcontent-%COMP%]:hover, .minimal-location-toggle[_ngcontent-%COMP%]:hover, .minimal-satellite-toggle[_ngcontent-%COMP%]:hover, .minimal-cluster-toggle[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #0003;background:#fff}.minimal-zoom-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;padding:8px;border:1px solid rgba(0,0,0,.1);box-shadow:0 4px 12px #00000026}.minimal-zoom-button[_ngcontent-%COMP%]{background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);box-shadow:0 2px 6px #0000001a;transition:all .3s ease;color:#1a237e}.minimal-zoom-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #00000026;background:#fff}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#ffffffe6;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:10000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.loading-spinner-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.loading-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.loading-message[_ngcontent-%COMP%]{font-size:18px;font-weight:500;color:#1a237e;text-align:center}@media(max-width:768px){.minimal-map-wrapper[_ngcontent-%COMP%]{height:100vh}.minimal-floating-controls[_ngcontent-%COMP%]{top:12px;right:12px;gap:8px}.minimal-fullscreen-toggle[_ngcontent-%COMP%], .minimal-location-toggle[_ngcontent-%COMP%], .minimal-satellite-toggle[_ngcontent-%COMP%], .minimal-cluster-toggle[_ngcontent-%COMP%]{width:48px;height:48px}.minimal-zoom-controls[_ngcontent-%COMP%]{padding:6px}.minimal-zoom-button[_ngcontent-%COMP%]{width:40px;height:40px}}@media(max-width:480px){.minimal-floating-controls[_ngcontent-%COMP%]{top:10px;right:10px}.minimal-fullscreen-toggle[_ngcontent-%COMP%], .minimal-location-toggle[_ngcontent-%COMP%], .minimal-satellite-toggle[_ngcontent-%COMP%], .minimal-cluster-toggle[_ngcontent-%COMP%]{width:44px;height:44px}.minimal-zoom-button[_ngcontent-%COMP%]{width:36px;height:36px}.loading-message[_ngcontent-%COMP%]{font-size:16px}}.minimal-legend[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:20px;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;padding:16px;border:1px solid rgba(0,0,0,.1);box-shadow:0 4px 12px #00000026;z-index:1000;max-width:300px;width:auto}.minimal-legend[_ngcontent-%COMP%]   .legend-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:12px;color:#1a237e;font-weight:500;font-size:14px}.minimal-legend[_ngcontent-%COMP%]   .legend-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.minimal-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.minimal-legend[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:4px;border:1px solid rgba(0,0,0,.2)}.minimal-legend[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{font-size:12px;color:#333}[data-theme=dark][_ngcontent-%COMP%]   .minimal-map-wrapper[_ngcontent-%COMP%]{background:#121212}[data-theme=dark][_ngcontent-%COMP%]   .minimal-fullscreen-toggle[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .minimal-location-toggle[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .minimal-satellite-toggle[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .minimal-cluster-toggle[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .minimal-zoom-controls[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .minimal-zoom-button[_ngcontent-%COMP%], [data-theme=dark][_ngcontent-%COMP%]   .minimal-legend[_ngcontent-%COMP%]{background:#1e1e28e6;border:1px solid rgba(255,255,255,.1);color:#bbdefb}[data-theme=dark][_ngcontent-%COMP%]   .minimal-legend[_ngcontent-%COMP%]   .legend-title[_ngcontent-%COMP%]{color:#bbdefb}[data-theme=dark][_ngcontent-%COMP%]   .minimal-legend[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{color:#e0e0e0}[data-theme=dark][_ngcontent-%COMP%]   .loading-overlay[_ngcontent-%COMP%]{background:#121212e6}[data-theme=dark][_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{color:#bbdefb}.minimal-status-indicators[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px;display:flex;flex-direction:column;gap:12px;z-index:1000}.minimal-status-indicators[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;padding:8px 16px;border:1px solid rgba(0,0,0,.1);box-shadow:0 4px 12px #0000001a;font-size:12px;color:#333;transition:all .3s ease}.minimal-status-indicators[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.minimal-status-indicators[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .mat-icon.connected[_ngcontent-%COMP%]{color:#4caf50}.minimal-status-indicators[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .mat-icon.disconnected[_ngcontent-%COMP%]{color:#f44336}.minimal-status-indicators[_ngcontent-%COMP%]   .status-item.disconnected[_ngcontent-%COMP%]{background:#f443361a;border-color:#f443364d}[data-theme=dark][_ngcontent-%COMP%]   .minimal-status-indicators[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{background:#1e1e28e6;border:1px solid rgba(255,255,255,.1);color:#e0e0e0}[data-theme=dark][_ngcontent-%COMP%]   .minimal-status-indicators[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .mat-icon.connected[_ngcontent-%COMP%]{color:#66bb6a}[data-theme=dark][_ngcontent-%COMP%]   .minimal-status-indicators[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .mat-icon.disconnected[_ngcontent-%COMP%]{color:#ef5350}@media(max-width:768px){.minimal-status-indicators[_ngcontent-%COMP%]{bottom:12px;right:12px}.minimal-status-indicators[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{padding:6px 12px;font-size:11px}.minimal-status-indicators[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}}@media(max-width:480px){.minimal-status-indicators[_ngcontent-%COMP%]{bottom:10px;right:10px}.minimal-status-indicators[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{padding:5px 10px}}@media(max-width:768px){.minimal-legend[_ngcontent-%COMP%]{max-width:260px;padding:12px;bottom:12px;left:12px}.minimal-legend[_ngcontent-%COMP%]   .legend-title[_ngcontent-%COMP%]{font-size:13px}.minimal-legend[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{font-size:11px}.minimal-legend[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:14px;height:14px}}@media(max-width:480px){.minimal-legend[_ngcontent-%COMP%]{max-width:240px;padding:10px;bottom:10px;left:10px}.minimal-legend[_ngcontent-%COMP%]   .legend-items[_ngcontent-%COMP%]{gap:6px}}'],data:{animation:[Q("fadeInAnimation",[T(":enter",[v({opacity:0}),V("300ms ease-in",v({opacity:1}))]),T(":leave",[V("300ms ease-out",v({opacity:0}))])])]},changeDetection:0})}};export{ge as MinimalMapViewComponent};
